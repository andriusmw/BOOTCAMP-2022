<!DOCTYPE html>
<html>
<body>

<h2>JavaScript Promise</h2>

<p id="demo"></p>

<script>
function myDisplayer(some) {
  document.getElementById("demo").innerHTML = some; 
}
// Muestra texto en el id demo

let myPromise = new Promise(function(myResolve, myReject) {
  let x = 1; //cambio para que se vaya por myReject
//crea una promesa

// some code (try to change x to 5)

  if (x == 0) {
    myResolve("Error"); //cambio de resultados para ver qué sale
  } else {
    myReject("ok");
  }
});  // como X es igual a 0 se va por la rama del if y le pasa el valor OK a myResolve
//con lo cual la promesa va a tener un valor así que se va por la rama value.

myPromise.then(  
  function(value) {myDisplayer(value);},  // sale por esta rama que llama a la fnción displayer con OK dentro
  function(error) {myDisplayer(error);}
);
</script>
<!-- 

    Si se hubiera ido por el else se habria activado el valor de myReject que no es un valor, sino un estado
    el estado rechazado asi que aún poniendo "OK" en el valor de myReject se seguiría yendo luego por
    function(error) y mostraría el myDisplaer(error) . El Displayer(error) muestra el texto "ok" pero
    el estado seguiría siendo rechazado si lo atacásemos con algún método para sacarlo. 
-->
</body>
</html>
